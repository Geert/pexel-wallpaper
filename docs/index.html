<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pexel Wallpaper (Enhanced)</title>
    <link rel="preload" href="css/style.css" as="style">
    <link rel="preload" href="js/script.js" as="script">
    <link rel="stylesheet" href="css/style.css">
    <link rel="icon" href="images/favicon.ico" type="image/x-icon">
    <link rel="icon" type="image/png" sizes="16x16" href="images/icon-16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="images/icon-32.png">
    <link rel="apple-touch-icon" sizes="180x180" href="images/icon-180.png">
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#0066ff">
</head>
<body>
    <div id="settingsHoverTrigger"></div>
    <div id="status-overlay" class="hidden">Loading...</div>
    <img id="wallpaper" src="" alt="Loading wallpaper...">
    <button id="settingsButton" title="Change API Key or Collection">⚙️</button>
    <span id="settingsButtonLabel">Open instellingen</span>

    <div id="input-container" class="hidden">
        <span id="closeFormButton" title="Close settings">&times;</span>
        <h2>Pexels Wallpapers</h2>
        <ol>
            <li>Install Plash: <a href="https://apps.apple.com/app/plash/id1494023538" target="_blank" class="plash-button">Open Plash in App Store</a></li>
            <li>In Plash, under 'Websites', add this URL: <code id="current-url-display"></code></li>
            <li>Enable Browsing Mode in Plash and continue via the screen on your desktop.</li>
            <li>Enter your Pexels API key below.</li>
            <li>Paste the URL of a Pexels Collection below, from which your wallpapers will be chosen.</li>
        </ol>
        <div>
            <label for="apiKeyInput">Pexels API Key: <a href="https://www.pexels.com/api/key/" target="_blank" class="api-key-hint">(Find my API Key)</a></label>
            <input type="password" id="apiKeyInput" placeholder="Your Pexels API Key">
        </div>
        <div>
            <label for="collectionUrlInput">Pexels Collection URL:</label>
            <input type="text" id="collectionUrlInput" placeholder="e.g., https://www.pexels.com/collections/wallpapers-vmnecek/">
        </div>
        <button id="startButton">Apply Settings & Start Slideshow</button>
        <p id="input-error"></p>
        
    </div>

    <div id="usage-indicator" class="hidden" aria-live="polite"></div>

    <script src="js/script.js" defer></script>
</body>
</html>
